<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:s="http://jboss.org/schema/seam/taglib">

<a4j:outputPanel id="horaireSouhaiteDecoration">
	<s:decorate styleClass="champ obligatoire" 
		template="../../../layout/edit.xhtml">
		<ui:define name="label">
			<h:outputText value="#{messages['intervention.field.horaireSouhaite']}" />
		</ui:define>
		<h:selectOneMenu value="#{intervention.horaireSouhaite}" rendered="#{intervention.isNew()}">
			<s:selectItems value="#{horaires}" var="horaire" 
				label="#{horaire.nom}" noSelectionLabel="#{messages['noSelection.horaire']}" />
			<s:convertEntity />
		</h:selectOneMenu>

		<h:selectOneMenu value="#{intervention.horaireSouhaite}" rendered="#{!intervention.isNew()}">
		<a4j:ajax event="change" queueId="#{conversation.id}"
					execute="@this"
					listener="#{interventionManager.updateDemande(messages['intervention.field.horaireSouhaite'])}"
					render="horaireSouhaiteDecoration,messages" />
			<s:selectItems value="#{horaires}" var="horaire" 
				label="#{horaire.nom}" noSelectionLabel="#{messages['noSelection.horaire']}" />
			<s:convertEntity />
		</h:selectOneMenu>	
	
	</s:decorate>

</a4j:outputPanel>



</ui:composition>
