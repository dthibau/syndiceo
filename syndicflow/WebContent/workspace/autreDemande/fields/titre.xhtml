<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:s="http://jboss.org/schema/seam/taglib">

	<a4j:outputPanel id="titleDecoration">
		<s:decorate template="../../../layout/edit.xhtml">

			<ui:define name="label">
				<h:outputText value="#{messages['demande.field.titre']}" />
			</ui:define>

			<h:inputText required="true" value="#{autreDemande.titre}"
				rendered="#{autreDemande.isNew()}">
<!-- 				<a4j:ajax event="blur" ajaxSingle="true" render="titleDecoration" -->
<!-- 					eventsQueue="#{conversation.id}" /> -->
			</h:inputText>

			<h:inputText id="titreInput" value="#{autreDemande.titre}" required="true"
				rendered="#{!autreDemande.isNew()}">
				<a4j:ajax event="change" queueId="#{conversation.id}" execute="@this" 
					listener="#{autreDemandeManager.updateDemande(messages['demande.field.titre'])}"
					render="titreInput,titleDecoration,messages,titlePanel" >
					</a4j:ajax>
			</h:inputText>
			<input type="hidden" name="cid" value="#{conversation.id}"/>
		</s:decorate>
	</a4j:outputPanel>
</ui:composition>